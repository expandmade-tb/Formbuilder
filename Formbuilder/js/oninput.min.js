function form_field_oninput(e){var t=document.getElementById(e.id+"-results"),n=e.value;if(n.length<1)t.style.display="none";else{var a=new XMLHttpRequest,s="/"+e.form.dataset.controller+"/"+e.dataset.methodOninput+"?search_value="+encodeURIComponent(n),o=e.dataset.token;a.open("GET",s,!0),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Ajax-Request-Token",o),a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){var e=a.responseText;t.style.display="inline",t.innerHTML=e}},a.send()}}function form_field_select(e){var t=e.parentElement,n=document.getElementById(t.id.split("-")[0]);n.value=e.textContent,"1"===n.dataset.deferOnchange&&form_field_onchange(n,"oninput"),t.style.display="none"}